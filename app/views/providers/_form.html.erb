<% form_for(provider) do |f| %>
  <%= f.error_messages %>

  <p>
    <%= f.label :name %><br />
    <%= f.text_field :name %>
  </p>
  <p>
    <%= f.label :description %><br />
    <%= f.text_field :description %>
  </p>
  <p>
    <%= f.label :image_url %><br />
    <%= f.text_field :image_url %>
    <span id="image-test"><%= image_tag(provider.image_url.to_s, :height => "50", :alt => "") %></span>
  </p>
  <p>
    <%= f.label :location %><br />
    <%= f.text_field :location %>
  </p>
  <p>
    <%= f.submit(provider.new_record? ? "Create" : "Update") %>
  </p>
<% end %>

<% javascript_tag do %>
  function refreshImage() {
    $("#image-test img").attr("src", $("#provider_image_url").attr("value"));
  }
  $("#provider_image_url").keyup(refreshImage);
<% end %>
